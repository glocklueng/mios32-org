// $Id$
/*
 * LCD functions for MIOS32
 *
 * ==========================================================================
 *
 *  Copyright (C) 2008 Thorsten Klose (tk@midibox.org)
 *  Licensed for personal non-commercial use only.
 *  All other rights reserved.
 * 
 * ==========================================================================
 */

/////////////////////////////////////////////////////////////////////////////
// Include files
/////////////////////////////////////////////////////////////////////////////

#include <mios32.h>

// this module can be optionally disabled in a local mios32_config.h file (included from mios32.h)
#if !defined(MIOS32_DONT_USE_LCD)


/////////////////////////////////////////////////////////////////////////////
// Global variables
/////////////////////////////////////////////////////////////////////////////


/////////////////////////////////////////////////////////////////////////////
// Local variables
/////////////////////////////////////////////////////////////////////////////

u8 lcd_device;
s16 lcd_line;
s16 lcd_column;


/////////////////////////////////////////////////////////////////////////////
// Initializes LCD driver
// IN: <mode>: currently only mode 0 supported
//             later we could provide operation modes
// OUT: returns < 0 if initialisation failed
/////////////////////////////////////////////////////////////////////////////
s32 MIOS32_LCD_Init(u32 mode)
{
  // currently only mode 0 supported
  if( mode != 0 )
    return -1; // unsupported mode

  // select first device
  MIOS32_LCD_DeviceSet(0);

  // clear screen
  MIOS32_LCD_Clear();

  // set cursor to initial position
  MIOS32_LCD_CursorSet(0, 0);

  return 0; // no error
}


/////////////////////////////////////////////////////////////////////////////
// Selects LCD device
// IN: lcd device number
// OUT: returns < 0 on errors
/////////////////////////////////////////////////////////////////////////////
s32 MIOS32_LCD_DeviceSet(u8 device)
{
  lcd_device = device;

  return 0; // no error
}


/////////////////////////////////////////////////////////////////////////////
// Returns LCD device
// IN: -
// OUT: returns device number
/////////////////////////////////////////////////////////////////////////////
u8 MIOS32_LCD_DeviceGet(void)
{
  return lcd_device;
}


/////////////////////////////////////////////////////////////////////////////
// Sets cursor to given position
// IN: <line> and <column>
// OUT: returns < 0 on errors
/////////////////////////////////////////////////////////////////////////////
s32 MIOS32_LCD_CursorSet(u16 line, u16 column)
{
  lcd_line = line;
  lcd_column = column;
}


/////////////////////////////////////////////////////////////////////////////
// Clear Screen
// IN: -
// OUT: returns < 0 on errors
/////////////////////////////////////////////////////////////////////////////
s32 MIOS32_LCD_Clear(void)
{
  return -1; // not implemented yet
}


/////////////////////////////////////////////////////////////////////////////
// Prints a single character
// IN: character in <c>
// OUT: returns < 0 on errors
/////////////////////////////////////////////////////////////////////////////
s32 MIOS32_LCD_PrintChar(char c)
{
  return -1; // not implemented yet
}


/////////////////////////////////////////////////////////////////////////////
// Prints a \0 (zero) terminated string
// IN: pointer to string in <*str>
// OUT: returns < 0 on errors
/////////////////////////////////////////////////////////////////////////////
s32 MIOS32_LCD_PrintString(char *str)
{
  return -1; // not implemented yet
}


/////////////////////////////////////////////////////////////////////////////
// Initializes a single special character
// IN: character number (0-7) in <num>, pattern in <table[8]>
// OUT: returns < 0 on errors
/////////////////////////////////////////////////////////////////////////////
s32 MIOS32_LCD_SpecialCharInit(u8 num, u8 table[8])
{
  return -1; // not implemented yet
}


/////////////////////////////////////////////////////////////////////////////
// Initializes all 8 special characters
// IN: patterns in <table[64]>
// OUT: returns < 0 on errors
/////////////////////////////////////////////////////////////////////////////
s32 MIOS32_LCD_SpecialCharsInit(u8 table[64])
{
  return -1; // not implemented yet
}


#endif /* MIOS32_DONT_USE_LCD */
